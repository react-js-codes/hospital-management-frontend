{"ast":null,"code":"import axios from'axios';import{useEffect,useState}from'react';import{Bar,Pie}from'react-chartjs-2';import{Chart,registerables}from'chart.js';import{useAuth}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";Chart.register(...registerables);export default function Dashboard(){const{user}=useAuth();const[stats,setStats]=useState({patients:0,staff:0,revenue:0,expenses:0});useEffect(()=>{const fetchStats=async()=>{try{const[patientsRes,staffRes,financeRes]=await Promise.all([axios.get('/api/patients'),axios.get('/api/staff'),axios.get('/api/finance/summary')]);setStats({patients:patientsRes.data.length,staff:staffRes.data.length,revenue:financeRes.data.revenue,expenses:financeRes.data.expenses});}catch(err){console.error(err);}};fetchStats();},[]);const patientStatusData={labels:['Admitted','Discharged','Critical'],datasets:[{data:[65,25,10],backgroundColor:['#3B82F6','#10B981','#EF4444']}]};const financeData={labels:['Revenue','Expenses'],datasets:[{label:'Amount',data:[stats.revenue,stats.expenses],backgroundColor:['#10B981','#EF4444']}]};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6\",children:\"Hospital Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-500\",children:\"Total Patients\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:stats.patients})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-500\",children:\"Total Staff\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold\",children:stats.staff})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-500\",children:\"Total Revenue\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold\",children:[\"$\",stats.revenue]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-500\",children:\"Total Expenses\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold\",children:[\"$\",stats.expenses]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Patient Status\"}),/*#__PURE__*/_jsx(Pie,{data:patientStatusData})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Financial Overview\"}),/*#__PURE__*/_jsx(Bar,{data:financeData})]})]})]});}","map":{"version":3,"names":["axios","useEffect","useState","Bar","Pie","Chart","registerables","useAuth","jsx","_jsx","jsxs","_jsxs","register","Dashboard","user","stats","setStats","patients","staff","revenue","expenses","fetchStats","patientsRes","staffRes","financeRes","Promise","all","get","data","length","err","console","error","patientStatusData","labels","datasets","backgroundColor","financeData","label","className","children"],"sources":["C:/Users/Suresh/hospital-management/frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Bar, Pie } from 'react-chartjs-2';\r\nimport { Chart, registerables } from 'chart.js';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\nChart.register(...registerables);\r\n\r\nexport default function Dashboard() {\r\n  const { user } = useAuth();\r\n  const [stats, setStats] = useState({\r\n    patients: 0,\r\n    staff: 0,\r\n    revenue: 0,\r\n    expenses: 0\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchStats = async () => {\r\n      try {\r\n        const [patientsRes, staffRes, financeRes] = await Promise.all([\r\n          axios.get('/api/patients'),\r\n          axios.get('/api/staff'),\r\n          axios.get('/api/finance/summary')\r\n        ]);\r\n        \r\n        setStats({\r\n          patients: patientsRes.data.length,\r\n          staff: staffRes.data.length,\r\n          revenue: financeRes.data.revenue,\r\n          expenses: financeRes.data.expenses\r\n        });\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    \r\n    fetchStats();\r\n  }, []);\r\n\r\n  const patientStatusData = {\r\n    labels: ['Admitted', 'Discharged', 'Critical'],\r\n    datasets: [\r\n      {\r\n        data: [65, 25, 10],\r\n        backgroundColor: ['#3B82F6', '#10B981', '#EF4444']\r\n      }\r\n    ]\r\n  };\r\n\r\n  const financeData = {\r\n    labels: ['Revenue', 'Expenses'],\r\n    datasets: [\r\n      {\r\n        label: 'Amount',\r\n        data: [stats.revenue, stats.expenses],\r\n        backgroundColor: ['#10B981', '#EF4444']\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-6\">Hospital Dashboard</h1>\r\n      \r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-gray-500\">Total Patients</h3>\r\n          <p className=\"text-3xl font-bold\">{stats.patients}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-gray-500\">Total Staff</h3>\r\n          <p className=\"text-3xl font-bold\">{stats.staff}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-gray-500\">Total Revenue</h3>\r\n          <p className=\"text-3xl font-bold\">${stats.revenue}</p>\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-gray-500\">Total Expenses</h3>\r\n          <p className=\"text-3xl font-bold\">${stats.expenses}</p>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Patient Status</h3>\r\n          <Pie data={patientStatusData} />\r\n        </div>\r\n        <div className=\"bg-white p-6 rounded-lg shadow\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Financial Overview</h3>\r\n          <Bar data={financeData} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}